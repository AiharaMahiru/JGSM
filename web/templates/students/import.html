{% extends "base.html" %}

{% block title %}导入学生数据 - 学生管理系统{% endblock %}

{% block content %}
<div class="card shadow">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
        <h5 class="mb-0"><i class="fas fa-file-import"></i> 导入学生数据</h5>
        <a href="{{ url_for('student.list') }}" class="btn btn-light btn-sm">
            <i class="fas fa-arrow-left"></i> 返回列表
        </a>
    </div>
    <div class="card-body">
        <div class="alert alert-info">
            <h5><i class="fas fa-info-circle"></i> 导入说明</h5>
            <p>请按照以下步骤导入学生数据：</p>
            <ol>
                <li>准备CSV格式的学生数据文件，确保包含必要的字段：学号、姓名、班级</li>
                <li>可选字段：性别、出生日期、入学日期、联系电话、电子邮箱、地址、状态</li>
                <li>CSV文件的第一行必须是字段名称，例如：<code>学号,姓名,性别,出生日期,班级,入学日期,联系电话,电子邮箱,地址,状态</code></li>
                <li>选择文件并点击"导入数据"按钮</li>
            </ol>
        </div>

        <form method="post" action="{{ url_for('student.import') }}" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="file" class="form-label">选择CSV文件</label>
                <input class="form-control" type="file" id="file" name="file" accept=".csv" required>
                <div class="form-text">只支持CSV格式文件</div>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-upload"></i> 导入数据
                </button>
            </div>
        </form>

        <div class="mt-4">
            <h5 class="border-bottom pb-2 mb-3">CSV模板示例</h5>
            <div class="table-responsive">
                <table class="table table-sm table-bordered">
                    <thead class="table-light">
                        <tr>
                            <th>学号</th>
                            <th>姓名</th>
                            <th>性别</th>
                            <th>出生日期</th>
                            <th>班级</th>
                            <th>入学日期</th>
                            <th>联系电话</th>
                            <th>电子邮箱</th>
                            <th>地址</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>20250001</td>
                            <td>张三</td>
                            <td>男</td>
                            <td>2007-01-01</td>
                            <td>计算机科学2025级1班</td>
                            <td>2025-09-01</td>
                            <td>13800138000</td>
                            <td>zhangsan@example.com</td>
                            <td>北京市海淀区</td>
                            <td>在读</td>
                        </tr>
                        <tr>
                            <td>20250002</td>
                            <td>李四</td>
                            <td>女</td>
                            <td>2007-02-15</td>
                            <td>计算机科学2025级1班</td>
                            <td>2025-09-01</td>
                            <td>13900139000</td>
                            <td>lisi@example.com</td>
                            <td>上海市浦东新区</td>
                            <td>在读</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="d-grid gap-2 d-md-flex justify-content-md-start mt-3">
                <a href="#" class="btn btn-outline-secondary btn-sm">
                    <i class="fas fa-download"></i> 下载CSV模板
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}